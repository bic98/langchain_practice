# OpenAI Apps SDK ì™„ë²½ í•™ìŠµ ê°€ì´ë“œ - 6ë¶€: ì‹¤ì „ ê°€ì´ë“œ

## ğŸ“š ëª©ì°¨
1. [ìƒˆë¡œìš´ ìœ„ì ¯ ë§Œë“¤ê¸°](#1-ìƒˆë¡œìš´-ìœ„ì ¯-ë§Œë“¤ê¸°)
2. [ë°ì´í„° ì†ŒìŠ¤ ì—°ë™](#2-ë°ì´í„°-ì†ŒìŠ¤-ì—°ë™)
3. [ê³ ê¸‰ ê¸°ëŠ¥ êµ¬í˜„](#3-ê³ ê¸‰-ê¸°ëŠ¥-êµ¬í˜„)
4. [ì„±ëŠ¥ ìµœì í™”](#4-ì„±ëŠ¥-ìµœì í™”)
5. [ë””ë²„ê¹…ê³¼ ë¬¸ì œ í•´ê²°](#5-ë””ë²„ê¹…ê³¼-ë¬¸ì œ-í•´ê²°)
6. [ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸](#6-ë°°í¬-ì²´í¬ë¦¬ìŠ¤íŠ¸)

---

## 1. ìƒˆë¡œìš´ ìœ„ì ¯ ë§Œë“¤ê¸°

### 1.1 ë‚ ì”¨ ìœ„ì ¯ ë§Œë“¤ê¸° (ì™„ì „ ì˜ˆì œ)

**ëª©í‘œ:** í˜„ì¬ ë‚ ì”¨ì™€ 5ì¼ ì˜ˆë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ìœ„ì ¯

**1ë‹¨ê³„: í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±**
```bash
# ìœ„ì ¯ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p src/weather

# íŒŒì¼ ìƒì„±
touch src/weather/index.jsx
touch src/weather/WeatherCard.jsx
touch src/weather/weather.css
```

**2ë‹¨ê³„: WeatherCard ì»´í¬ë„ŒíŠ¸**
```jsx
// src/weather/WeatherCard.jsx
import { Cloud, CloudRain, Sun, Wind } from 'lucide-react';

function getWeatherIcon(condition) {
  const icons = {
    sunny: Sun,
    cloudy: Cloud,
    rainy: CloudRain,
    windy: Wind
  };
  const Icon = icons[condition] || Sun;
  return <Icon className="w-12 h-12" />;
}

export default function WeatherCard({ day, temp, condition }) {
  return (
    <div className="flex flex-col items-center p-4 rounded-lg bg-white shadow-sm">
      <p className="text-sm font-medium text-gray-600">{day}</p>
      <div className="my-3">
        {getWeatherIcon(condition)}
      </div>
      <p className="text-2xl font-bold">{temp}Â°C</p>
      <p className="text-xs text-gray-500 capitalize">{condition}</p>
    </div>
  );
}
```

**3ë‹¨ê³„: ë©”ì¸ ì»´í¬ë„ŒíŠ¸**
```jsx
// src/weather/index.jsx
import { createRoot } from 'react-dom/client';
import { useWidgetProps } from '../use-widget-props';
import { useDisplayMode } from '../use-display-mode';
import { useMaxHeight } from '../use-max-height';
import WeatherCard from './WeatherCard';
import './weather.css';

function WeatherWidget() {
  // MCP ì„œë²„ì—ì„œ ì „ë‹¬ë°›ì€ ë°ì´í„°
  const { city, current, forecast } = useWidgetProps({
    city: "ì„œìš¸",
    current: { temp: 22, condition: "sunny" },
    forecast: [
      { day: "ì›”", temp: 23, condition: "cloudy" },
      { day: "í™”", temp: 21, condition: "rainy" },
      { day: "ìˆ˜", temp: 24, condition: "sunny" },
      { day: "ëª©", temp: 22, condition: "cloudy" },
      { day: "ê¸ˆ", temp: 25, condition: "sunny" }
    ]
  });

  const displayMode = useDisplayMode();
  const maxHeight = useMaxHeight();

  return (
    <div
      className="p-6 bg-gradient-to-br from-blue-50 to-blue-100"
      style={{
        maxHeight,
        height: displayMode === "fullscreen" ? maxHeight : 480
      }}
    >
      {/* í—¤ë” */}
      <div className="mb-6">
        <h1 className="text-3xl font-bold text-gray-800">{city}</h1>
        <p className="text-sm text-gray-600">í˜„ì¬ ë‚ ì”¨</p>
      </div>

      {/* í˜„ì¬ ë‚ ì”¨ */}
      <div className="mb-8 p-6 rounded-2xl bg-white shadow-lg">
        <div className="flex items-center justify-between">
          <div>
            <p className="text-5xl font-bold text-gray-800">
              {current.temp}Â°C
            </p>
            <p className="text-lg text-gray-600 capitalize mt-2">
              {current.condition}
            </p>
          </div>
          <div className="text-blue-500">
            {getWeatherIcon(current.condition)}
          </div>
        </div>
      </div>

      {/* 5ì¼ ì˜ˆë³´ */}
      <div>
        <h2 className="text-xl font-semibold text-gray-800 mb-4">
          5ì¼ ì˜ˆë³´
        </h2>
        <div className="grid grid-cols-5 gap-3">
          {forecast.map((day, index) => (
            <WeatherCard key={index} {...day} />
          ))}
        </div>
      </div>
    </div>
  );
}

createRoot(document.getElementById('weather-root')).render(<WeatherWidget />);

export default WeatherWidget;
```

**4ë‹¨ê³„: CSS ìŠ¤íƒ€ì¼**
```css
/* src/weather/weather.css */
.weather-widget {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

@media (max-width: 768px) {
  .weather-widget {
    padding: 1rem;
  }
}
```

**5ë‹¨ê³„: MCP ì„œë²„ì— ë„êµ¬ ì¶”ê°€ (Node.js)**
```typescript
// pizzaz_server_node/src/server.ts
const widgets: PizzazWidget[] = [
  // ... ê¸°ì¡´ ìœ„ì ¯ë“¤
  {
    id: "weather-widget",
    title: "Show Weather Widget",
    templateUri: "ui://widget/weather-widget.html",
    invoking: "Checking the weather",
    invoked: "Weather loaded",
    html: readWidgetHtml("weather"),
    responseText: "Here's the weather information!"
  }
];

// ì…ë ¥ ìŠ¤í‚¤ë§ˆ í™•ì¥
const weatherInputSchema = {
  type: "object",
  properties: {
    city: {
      type: "string",
      description: "City name to get weather for"
    }
  },
  required: ["city"]
};
```

**6ë‹¨ê³„: ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸**
```bash
# ë¹Œë“œ
pnpm build

# MCP ì„œë²„ ì‹œì‘
cd pizzaz_server_node
pnpm start

# ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸
# http://localhost:4444/weather.html
```

### 1.2 Chart ìœ„ì ¯ ë§Œë“¤ê¸°

**Chart.jsë¥¼ ì‚¬ìš©í•œ ê·¸ë˜í”„ ìœ„ì ¯**

**1ë‹¨ê³„: ì˜ì¡´ì„± ì¶”ê°€**
```bash
pnpm add chart.js react-chartjs-2
```

**2ë‹¨ê³„: Chart ì»´í¬ë„ŒíŠ¸**
```jsx
// src/chart/index.jsx
import { createRoot } from 'react-dom/client';
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  BarElement,
  Title,
  Tooltip,
  Legend
} from 'chart.js';
import { Bar } from 'react-chartjs-2';
import { useWidgetProps } from '../use-widget-props';

// Chart.js ë“±ë¡
ChartJS.register(
  CategoryScale,
  LinearScale,
  BarElement,
  Title,
  Tooltip,
  Legend
);

function ChartWidget() {
  const { title, labels, datasets } = useWidgetProps({
    title: "ì›”ë³„ ë§¤ì¶œ",
    labels: ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”'],
    datasets: [
      {
        label: 'ë§¤ì¶œ (ë§Œì›)',
        data: [120, 190, 300, 500, 200, 300],
        backgroundColor: 'rgba(54, 162, 235, 0.5)',
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 1
      }
    ]
  });

  const options = {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: {
        position: 'top'
      },
      title: {
        display: true,
        text: title
      }
    }
  };

  const data = {
    labels,
    datasets
  };

  return (
    <div className="p-6" style={{ height: 480 }}>
      <Bar options={options} data={data} />
    </div>
  );
}

createRoot(document.getElementById('chart-root')).render(<ChartWidget />);
```

---

## 2. ë°ì´í„° ì†ŒìŠ¤ ì—°ë™

### 2.1 REST API ì—°ë™

**ì˜ˆì œ: ì‹¤ì‹œê°„ ë‚ ì”¨ API ì‚¬ìš©**

```jsx
// src/weather/index.jsx
import { useState, useEffect } from 'react';

function WeatherWidget() {
  const { city } = useWidgetProps({ city: "ì„œìš¸" });
  const [weather, setWeather] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    async function fetchWeather() {
      try {
        setLoading(true);
        const response = await fetch(
          `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=YOUR_API_KEY&units=metric`
        );

        if (!response.ok) {
          throw new Error('Failed to fetch weather');
        }

        const data = await response.json();
        setWeather({
          temp: Math.round(data.main.temp),
          condition: data.weather[0].main.toLowerCase(),
          humidity: data.main.humidity,
          windSpeed: data.wind.speed
        });
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    }

    fetchWeather();
  }, [city]);

  if (loading) {
    return (
      <div className="flex items-center justify-center h-full">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500" />
      </div>
    );
  }

  if (error) {
    return (
      <div className="flex items-center justify-center h-full">
        <div className="text-red-500">
          ì˜¤ë¥˜: {error}
        </div>
      </div>
    );
  }

  return (
    <div>
      <h1>{city}</h1>
      <p>{weather.temp}Â°C</p>
      <p>{weather.condition}</p>
    </div>
  );
}
```

### 2.2 MCP ì„œë²„ì—ì„œ API í˜¸ì¶œ

**Node.js ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°:**

```typescript
// pizzaz_server_node/src/server.ts
import fetch from 'node-fetch';

server.setRequestHandler(
  CallToolRequestSchema,
  async (request: CallToolRequest) => {
    if (request.params.name === "weather-widget") {
      const args = request.params.arguments as { city: string };

      // API í˜¸ì¶œ
      const response = await fetch(
        `https://api.openweathermap.org/data/2.5/weather?q=${args.city}&appid=${API_KEY}&units=metric`
      );

      const data = await response.json();

      return {
        content: [
          {
            type: "text",
            text: `Weather for ${args.city}: ${data.main.temp}Â°C`
          }
        ],
        structuredContent: {
          city: args.city,
          current: {
            temp: Math.round(data.main.temp),
            condition: data.weather[0].main.toLowerCase(),
            humidity: data.main.humidity,
            windSpeed: data.wind.speed
          }
        },
        _meta: widgetMeta(widget)
      };
    }
  }
);
```

**Python ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°:**

```python
# pizzaz_server_python/main.py
import httpx

async def _call_tool_request(req: types.CallToolRequest):
    if req.params.name == "weather-widget":
        args = req.params.arguments
        city = args.get("city", "Seoul")

        # API í˜¸ì¶œ
        async with httpx.AsyncClient() as client:
            response = await client.get(
                f"https://api.openweathermap.org/data/2.5/weather",
                params={
                    "q": city,
                    "appid": API_KEY,
                    "units": "metric"
                }
            )
            data = response.json()

        return types.ServerResult(
            types.CallToolResult(
                content=[
                    types.TextContent(
                        type="text",
                        text=f"Weather for {city}: {data['main']['temp']}Â°C"
                    )
                ],
                structuredContent={
                    "city": city,
                    "current": {
                        "temp": round(data["main"]["temp"]),
                        "condition": data["weather"][0]["main"].lower(),
                        "humidity": data["main"]["humidity"],
                        "windSpeed": data["wind"]["speed"]
                    }
                },
                _meta=_tool_meta(widget)
            )
        )
```

### 2.3 ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™

**PostgreSQL ì—°ë™ ì˜ˆì œ (Node.js):**

```typescript
// pizzaz_server_node/src/db.ts
import { Pool } from 'pg';

const pool = new Pool({
  host: process.env.DB_HOST,
  port: parseInt(process.env.DB_PORT || '5432'),
  database: process.env.DB_NAME,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD
});

export async function getUserData(userId: string) {
  const result = await pool.query(
    'SELECT * FROM users WHERE id = $1',
    [userId]
  );
  return result.rows[0];
}

// ì„œë²„ì—ì„œ ì‚¬ìš©
server.setRequestHandler(
  CallToolRequestSchema,
  async (request: CallToolRequest) => {
    const userData = await getUserData(request.params.arguments.userId);

    return {
      content: [...],
      structuredContent: userData,
      _meta: widgetMeta(widget)
    };
  }
);
```

---

## 3. ê³ ê¸‰ ê¸°ëŠ¥ êµ¬í˜„

### 3.1 ìœ„ì ¯ ê°„ í†µì‹ 

**useWidgetStateë¥¼ ì‚¬ìš©í•œ ìƒíƒœ ê³µìœ :**

```jsx
function WeatherWidget() {
  const [sharedState, setSharedState] = useWidgetState({
    selectedCity: null,
    favorites: []
  });

  const selectCity = (city) => {
    setSharedState(prev => ({
      ...prev,
      selectedCity: city
    }));

    // ë‹¤ë¥¸ ë„êµ¬ í˜¸ì¶œ
    window.openai.callTool('city-details', { city });
  };

  return (
    <div>
      {cities.map(city => (
        <button key={city} onClick={() => selectCity(city)}>
          {city}
        </button>
      ))}
      <p>ì„ íƒëœ ë„ì‹œ: {sharedState.selectedCity}</p>
    </div>
  );
}
```

### 3.2 ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

**WebSocketì„ ì‚¬ìš©í•œ ì‹¤ì‹œê°„ ë°ì´í„°:**

```jsx
function LiveDataWidget() {
  const [data, setData] = useState([]);

  useEffect(() => {
    const ws = new WebSocket('wss://api.example.com/live');

    ws.onmessage = (event) => {
      const newData = JSON.parse(event.data);
      setData(prev => [...prev, newData].slice(-100)); // ìµœê·¼ 100ê°œë§Œ ìœ ì§€
    };

    ws.onerror = (error) => {
      console.error('WebSocket error:', error);
    };

    return () => {
      ws.close();
    };
  }, []);

  return (
    <div>
      {data.map((item, index) => (
        <div key={index}>{item.value}</div>
      ))}
    </div>
  );
}
```

### 3.3 íŒŒì¼ ì—…ë¡œë“œ

```jsx
function FileUploadWidget() {
  const [file, setFile] = useState(null);
  const [uploading, setUploading] = useState(false);

  const handleFileChange = (event) => {
    setFile(event.target.files[0]);
  };

  const handleUpload = async () => {
    if (!file) return;

    setUploading(true);

    const formData = new FormData();
    formData.append('file', file);

    try {
      const response = await fetch('https://api.example.com/upload', {
        method: 'POST',
        body: formData
      });

      const result = await response.json();
      console.log('Upload success:', result);
    } catch (error) {
      console.error('Upload failed:', error);
    } finally {
      setUploading(false);
    }
  };

  return (
    <div className="p-6">
      <input
        type="file"
        onChange={handleFileChange}
        className="mb-4"
      />
      <button
        onClick={handleUpload}
        disabled={!file || uploading}
        className="px-4 py-2 bg-blue-500 text-white rounded"
      >
        {uploading ? 'ì—…ë¡œë“œ ì¤‘...' : 'ì—…ë¡œë“œ'}
      </button>
    </div>
  );
}
```

### 3.4 ë‹¤í¬ ëª¨ë“œ ì§€ì›

```jsx
function ThemedWidget() {
  const theme = useOpenAiGlobal("theme");

  return (
    <div
      className={
        theme === "dark"
          ? "bg-gray-900 text-white"
          : "bg-white text-black"
      }
    >
      <h1>í…Œë§ˆ: {theme}</h1>
    </div>
  );
}
```

**Tailwind dark ëª¨ë“œ ì‚¬ìš©:**

```jsx
function ThemedWidget() {
  const theme = useOpenAiGlobal("theme");

  return (
    <div className={theme === "dark" ? "dark" : ""}>
      <div className="bg-white dark:bg-gray-900 text-black dark:text-white">
        <h1 className="text-2xl font-bold">ì œëª©</h1>
        <p className="text-gray-600 dark:text-gray-400">ë‚´ìš©</p>
      </div>
    </div>
  );
}
```

---

## 4. ì„±ëŠ¥ ìµœì í™”

### 4.1 ë²ˆë“¤ í¬ê¸° ìµœì í™”

**1. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒì  ì„í¬íŠ¸:**

```jsx
// âŒ ì „ì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸
import lodash from 'lodash';

// âœ… í•„ìš”í•œ í•¨ìˆ˜ë§Œ ì„í¬íŠ¸
import debounce from 'lodash/debounce';
import throttle from 'lodash/throttle';
```

**2. ë™ì  ì„í¬íŠ¸:**

```jsx
function HeavyComponent() {
  const [Component, setComponent] = useState(null);

  useEffect(() => {
    // í•„ìš”í•  ë•Œë§Œ ë¡œë“œ
    import('./HeavyFeature').then(module => {
      setComponent(() => module.default);
    });
  }, []);

  if (!Component) {
    return <div>Loading...</div>;
  }

  return <Component />;
}
```

**3. ì´ë¯¸ì§€ ìµœì í™”:**

```jsx
// WebP ì‚¬ìš©
<img
  src="image.webp"
  alt="optimized"
  loading="lazy"  // ì§€ì—° ë¡œë”©
  width={800}
  height={600}
/>

// srcset ì‚¬ìš©
<img
  src="image-800.jpg"
  srcSet="
    image-400.jpg 400w,
    image-800.jpg 800w,
    image-1200.jpg 1200w
  "
  sizes="(max-width: 600px) 400px, 800px"
  alt="responsive"
/>
```

### 4.2 ë Œë”ë§ ìµœì í™”

**1. React.memo:**

```jsx
const ExpensiveComponent = React.memo(function ExpensiveComponent({ data }) {
  // ë³µì¡í•œ ë Œë”ë§ ë¡œì§
  return <div>{data.value}</div>;
});

// dataê°€ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ì•ˆ í•¨
```

**2. useMemo & useCallback:**

```jsx
function OptimizedComponent({ items, filter }) {
  // í•„í„°ë§ ê²°ê³¼ ìºì‹±
  const filteredItems = useMemo(() => {
    return items.filter(item => item.category === filter);
  }, [items, filter]);

  // í•¨ìˆ˜ ìºì‹±
  const handleClick = useCallback((id) => {
    console.log('Clicked:', id);
  }, []);

  return (
    <div>
      {filteredItems.map(item => (
        <Item key={item.id} item={item} onClick={handleClick} />
      ))}
    </div>
  );
}
```

**3. ê°€ìƒí™” (Virtualization):**

```jsx
import { FixedSizeList } from 'react-window';

function VirtualizedList({ items }) {
  const Row = ({ index, style }) => (
    <div style={style}>
      {items[index].name}
    </div>
  );

  return (
    <FixedSizeList
      height={600}
      itemCount={items.length}
      itemSize={50}
      width="100%"
    >
      {Row}
    </FixedSizeList>
  );
}
```

### 4.3 ë„¤íŠ¸ì›Œí¬ ìµœì í™”

**1. ìš”ì²­ ë””ë°”ìš´ì‹±:**

```jsx
import { useMemo } from 'react';
import debounce from 'lodash/debounce';

function SearchWidget() {
  const [query, setQuery] = useState('');
  const [results, setResults] = useState([]);

  const debouncedSearch = useMemo(
    () => debounce(async (searchQuery) => {
      const response = await fetch(`/api/search?q=${searchQuery}`);
      const data = await response.json();
      setResults(data);
    }, 300),
    []
  );

  const handleChange = (e) => {
    const value = e.target.value;
    setQuery(value);
    debouncedSearch(value);
  };

  return (
    <div>
      <input value={query} onChange={handleChange} />
      {results.map(result => (
        <div key={result.id}>{result.name}</div>
      ))}
    </div>
  );
}
```

**2. ìºì‹±:**

```jsx
const cache = new Map();

async function fetchWithCache(url) {
  if (cache.has(url)) {
    return cache.get(url);
  }

  const response = await fetch(url);
  const data = await response.json();

  cache.set(url, data);
  return data;
}
```

---

## 5. ë””ë²„ê¹…ê³¼ ë¬¸ì œ í•´ê²°

### 5.1 ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

**1. ìœ„ì ¯ì´ ë¡œë“œë˜ì§€ ì•ŠìŒ**

**ì›ì¸:**
- ë¹Œë“œë¥¼ ì•ˆ í–ˆìŒ
- BASE_URLì´ ì˜ëª»ë¨
- MCP ì„œë²„ê°€ ì‹¤í–‰ ì•ˆ ë¨

**í•´ê²°:**
```bash
# 1. ë¹Œë“œ í™•ì¸
pnpm build
ls -la assets/  # íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸

# 2. ì„œë²„ ë¡œê·¸ í™•ì¸
cd pizzaz_server_node
pnpm start
# "Pizzaz MCP server listening on..." ë©”ì‹œì§€ í™•ì¸

# 3. ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸
# F12 â†’ Console
# ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
```

**2. ìœ„ì ¯ì´ í‘œì‹œë˜ì§€ë§Œ ë°ì´í„°ê°€ ì—†ìŒ**

**ì›ì¸:**
- `useWidgetProps`ê°€ null ë°˜í™˜
- MCP ì„œë²„ê°€ `structuredContent` ì•ˆ ë³´ëƒ„

**í•´ê²°:**
```jsx
// ë””ë²„ê¹… ì½”ë“œ ì¶”ê°€
function MyWidget() {
  const props = useWidgetProps({});
  console.log('Widget props:', props);  // ë°ì´í„° í™•ì¸

  if (!props || Object.keys(props).length === 0) {
    return <div>ë°ì´í„° ì—†ìŒ</div>;
  }

  return <div>ë°ì´í„°: {JSON.stringify(props)}</div>;
}
```

**3. ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•ŠìŒ**

**ì›ì¸:**
- CSS íŒŒì¼ì´ ì„í¬íŠ¸ ì•ˆ ë¨
- Tailwind í´ë˜ìŠ¤ê°€ ë¹Œë“œì— í¬í•¨ ì•ˆ ë¨

**í•´ê²°:**
```jsx
// CSS ì„í¬íŠ¸ í™•ì¸
import './my-widget.css';

// Tailwind í´ë˜ìŠ¤ ì‚¬ìš© í™•ì¸
<div className="flex items-center gap-3">
  {/* content */}
</div>
```

### 5.2 ë””ë²„ê¹… ë„êµ¬

**1. React DevTools:**
```bash
# Chrome Extension ì„¤ì¹˜
# "React Developer Tools"

# ë¸Œë¼ìš°ì €ì—ì„œ:
# F12 â†’ Components íƒ­
# â†’ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ í™•ì¸
# â†’ Props, State í™•ì¸
```

**2. Network íƒ­ í™œìš©:**
```
F12 â†’ Network íƒ­
â†’ XHR/Fetch í•„í„°
â†’ MCP ìš”ì²­/ì‘ë‹µ í™•ì¸
â†’ Response ë³¸ë¬¸ í™•ì¸
```

**3. ë¡œê¹… ì¶”ê°€:**
```jsx
function MyWidget() {
  const props = useWidgetProps({});

  useEffect(() => {
    console.group('MyWidget Mounted');
    console.log('Props:', props);
    console.log('window.openai:', window.openai);
    console.groupEnd();
  }, [props]);

  // ...
}
```

### 5.3 ì—ëŸ¬ ë°”ìš´ë”ë¦¬

```jsx
class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error) {
    return { hasError: true, error };
  }

  componentDidCatch(error, errorInfo) {
    console.error('Error caught by boundary:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="p-6 text-center">
          <h2 className="text-xl font-bold text-red-600 mb-2">
            ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤
          </h2>
          <p className="text-sm text-gray-600">
            {this.state.error?.message}
          </p>
          <button
            onClick={() => window.location.reload()}
            className="mt-4 px-4 py-2 bg-blue-500 text-white rounded"
          >
            ìƒˆë¡œê³ ì¹¨
          </button>
        </div>
      );
    }

    return this.props.children;
  }
}

// ì‚¬ìš©
createRoot(document.getElementById('root')).render(
  <ErrorBoundary>
    <MyWidget />
  </ErrorBoundary>
);
```

---

## 6. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 6.1 ë°°í¬ ì „ í™•ì¸ì‚¬í•­

**âœ… ì½”ë“œ í’ˆì§ˆ**
- [ ] TypeScript ì—ëŸ¬ ì—†ìŒ (`pnpm tsc`)
- [ ] ESLint ê²½ê³  ì—†ìŒ
- [ ] ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ì œê±°
- [ ] console.log ì œê±° ë˜ëŠ” í™˜ê²½ë³„ ë¶„ë¦¬

**âœ… ë¹Œë“œ**
- [ ] `pnpm build` ì„±ê³µ
- [ ] assets/ í´ë”ì— íŒŒì¼ ìƒì„± í™•ì¸
- [ ] ë²ˆë“¤ í¬ê¸° í™•ì¸ (< 1MB ê¶Œì¥)
- [ ] BASE_URL í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**âœ… í…ŒìŠ¤íŠ¸**
- [ ] ëª¨ë“  ìœ„ì ¯ì´ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸
- [ ] ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
- [ ] ì¸í„°ë™ì…˜ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸
- [ ] ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸
- [ ] ëª¨ë°”ì¼ í™˜ê²½ í…ŒìŠ¤íŠ¸

**âœ… ì„±ëŠ¥**
- [ ] ì´ˆê¸° ë¡œë”© ì‹œê°„ < 3ì´ˆ
- [ ] ë²ˆë“¤ í¬ê¸° ìµœì í™”
- [ ] ì´ë¯¸ì§€ ìµœì í™” (WebP, ì ì ˆí•œ í¬ê¸°)
- [ ] ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ì œê±°

**âœ… ë³´ì•ˆ**
- [ ] API í‚¤ í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
- [ ] CORS ì„¤ì • ê²€í† 
- [ ] XSS ë°©ì§€ (ì‚¬ìš©ì ì…ë ¥ ê²€ì¦)
- [ ] HTTPS ì‚¬ìš©

**âœ… ì ‘ê·¼ì„±**
- [ ] í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ê°€ëŠ¥
- [ ] ARIA ì†ì„± ì¶”ê°€
- [ ] ìƒ‰ìƒ ëŒ€ë¹„ ì ì ˆ (4.5:1 ì´ìƒ)
- [ ] ìŠ¤í¬ë¦° ë¦¬ë” í…ŒìŠ¤íŠ¸

### 6.2 ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

**package.jsonì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€:**
```json
{
  "scripts": {
    "build": "tsx ./build-all.mts",
    "build:prod": "BASE_URL=https://cdn.example.com pnpm build",
    "deploy:assets": "aws s3 sync assets/ s3://my-bucket/widgets/",
    "deploy:server": "cd pizzaz_server_node && npm run deploy",
    "deploy": "pnpm build:prod && pnpm deploy:assets && pnpm deploy:server"
  }
}
```

**ë°°í¬ ì‹¤í–‰:**
```bash
# í•œ ë²ˆì— ë°°í¬
pnpm deploy

# ë˜ëŠ” ë‹¨ê³„ë³„
pnpm build:prod
pnpm deploy:assets
pnpm deploy:server
```

### 6.3 í™˜ê²½ë³„ ì„¤ì •

**.env íŒŒì¼ ì˜ˆì œ:**
```bash
# .env.development
BASE_URL=http://localhost:4444
MCP_SERVER_URL=http://localhost:8000
API_KEY=dev_api_key

# .env.production
BASE_URL=https://cdn.example.com
MCP_SERVER_URL=https://api.example.com
API_KEY=prod_api_key
```

**í™˜ê²½ë³„ ë¹Œë“œ:**
```bash
# ê°œë°œ
NODE_ENV=development pnpm build

# í”„ë¡œë•ì…˜
NODE_ENV=production pnpm build
```

---

## 7. ì¶”ê°€ í•™ìŠµ ë¦¬ì†ŒìŠ¤

### 7.1 ê³µì‹ ë¬¸ì„œ

**React:**
- https://react.dev - ê³µì‹ ë¬¸ì„œ
- https://react.dev/learn - íŠœí† ë¦¬ì–¼

**TypeScript:**
- https://www.typescriptlang.org/docs - ê³µì‹ ë¬¸ì„œ
- https://www.typescriptlang.org/play - ì˜¨ë¼ì¸ í”Œë ˆì´ê·¸ë¼ìš´ë“œ

**Vite:**
- https://vitejs.dev/guide - ì‹œì‘ ê°€ì´ë“œ
- https://vitejs.dev/config - ì„¤ì • ë ˆí¼ëŸ°ìŠ¤

**MCP:**
- https://modelcontextprotocol.io - MCP í”„ë¡œí† ì½œ ìŠ¤í™
- https://github.com/modelcontextprotocol - ê³µì‹ GitHub

### 7.2 ìœ ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

**UI ì»´í¬ë„ŒíŠ¸:**
- Radix UI - https://www.radix-ui.com
- shadcn/ui - https://ui.shadcn.com
- Headless UI - https://headlessui.com

**ì• ë‹ˆë©”ì´ì…˜:**
- Framer Motion - https://www.framer.com/motion
- React Spring - https://www.react-spring.dev

**ë°ì´í„° ì‹œê°í™”:**
- Chart.js - https://www.chartjs.org
- D3.js - https://d3js.org
- Recharts - https://recharts.org

**ì§€ë„:**
- Mapbox GL JS - https://docs.mapbox.com
- Leaflet - https://leafletjs.com

**3D ê·¸ë˜í”½:**
- Three.js - https://threejs.org
- React Three Fiber - https://docs.pmnd.rs/react-three-fiber

### 7.3 ì»¤ë®¤ë‹ˆí‹°

**Discord:**
- React Discord
- TypeScript Discord

**GitHub:**
- openai/openai-apps-sdk-examples
- modelcontextprotocol

**Stack Overflow:**
- [react] íƒœê·¸
- [typescript] íƒœê·¸
- [vite] íƒœê·¸

---

## ğŸ’¡ ìµœì¢… ìš”ì•½

### ìƒˆ ìœ„ì ¯ ë§Œë“¤ê¸°
1. `src/[widget-name]/` ë””ë ‰í† ë¦¬ ìƒì„±
2. `index.jsx` ì‘ì„±
3. MCP ì„œë²„ì— ë„êµ¬ ì¶”ê°€
4. ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸

### ë°ì´í„° ì—°ë™
- **API**: fetch ë˜ëŠ” axios ì‚¬ìš©
- **ë°ì´í„°ë² ì´ìŠ¤**: MCP ì„œë²„ì—ì„œ ì²˜ë¦¬
- **ì‹¤ì‹œê°„**: WebSocket í™œìš©

### ê³ ê¸‰ ê¸°ëŠ¥
- **ìœ„ì ¯ ê°„ í†µì‹ **: useWidgetState
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: WebSocket
- **ë‹¤í¬ ëª¨ë“œ**: useOpenAiGlobal("theme")

### ì„±ëŠ¥ ìµœì í™”
- **ë²ˆë“¤ í¬ê¸°**: ì„ íƒì  ì„í¬íŠ¸, ë™ì  ë¡œë”©
- **ë Œë”ë§**: React.memo, useMemo, useCallback
- **ë„¤íŠ¸ì›Œí¬**: ë””ë°”ìš´ì‹±, ìºì‹±

### ë””ë²„ê¹…
- React DevTools
- Network íƒ­
- ë¡œê¹…
- ì—ëŸ¬ ë°”ìš´ë”ë¦¬

### ë°°í¬
- ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- ë¹Œë“œ ë° ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

---

**ğŸ‰ ì „ì²´ í•™ìŠµ ê°€ì´ë“œ ì™„ë£Œ!**

ì´ì œ OpenAI Apps SDKë¥¼ ì‚¬ìš©í•´ì„œ ë©‹ì§„ ìœ„ì ¯ì„ ë§Œë“¤ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!

**ë‹¤ìŒ ë‹¨ê³„:**
1. ì‘ì€ ìœ„ì ¯ë¶€í„° ì‹œì‘í•´ë³´ì„¸ìš”
2. ê¸°ì¡´ ì˜ˆì œë¥¼ ìˆ˜ì •í•´ë³´ì„¸ìš”
3. ë³¸ì¸ë§Œì˜ ìœ„ì ¯ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”
4. ì»¤ë®¤ë‹ˆí‹°ì— ê³µìœ í•´ë³´ì„¸ìš”!

**í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! ğŸš€**
