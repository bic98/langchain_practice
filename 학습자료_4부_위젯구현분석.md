# OpenAI Apps SDK ì™„ë²½ í•™ìŠµ ê°€ì´ë“œ - 4ë¶€: ìœ„ì ¯ êµ¬í˜„ ë¶„ì„

## ğŸ“š ëª©ì°¨
1. [Pizzaz ì§€ë„ ìœ„ì ¯ ì™„ì „ ë¶„ì„](#1-pizzaz-ì§€ë„-ìœ„ì ¯-ì™„ì „-ë¶„ì„)
2. [Todo ë¦¬ìŠ¤íŠ¸ ìœ„ì ¯ ì™„ì „ ë¶„ì„](#2-todo-ë¦¬ìŠ¤íŠ¸-ìœ„ì ¯-ì™„ì „-ë¶„ì„)
3. [Solar System 3D ìœ„ì ¯ ì™„ì „ ë¶„ì„](#3-solar-system-3d-ìœ„ì ¯-ì™„ì „-ë¶„ì„)
4. [ê³µí†µ íŒ¨í„´ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](#4-ê³µí†µ-íŒ¨í„´ê³¼-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤)
5. [ì• ë‹ˆë©”ì´ì…˜ê³¼ ì¸í„°ë™ì…˜](#5-ì• ë‹ˆë©”ì´ì…˜ê³¼-ì¸í„°ë™ì…˜)

---

## 1. Pizzaz ì§€ë„ ìœ„ì ¯ ì™„ì „ ë¶„ì„

### 1.1 ì „ì²´ êµ¬ì¡°

**íŒŒì¼ êµ¬ì„±:**
```
src/pizzaz/
â”œâ”€â”€ index.jsx           # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ Inspector.jsx       # ì¥ì†Œ ìƒì„¸ íŒ¨ë„
â”œâ”€â”€ Sidebar.jsx         # ì‚¬ì´ë“œë°” ëª©ë¡
â”œâ”€â”€ markers.json        # ì¥ì†Œ ë°ì´í„°
â””â”€â”€ map.css            # ì§€ë„ ìŠ¤íƒ€ì¼
```

**ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ:**
```
App (ë©”ì¸ ì»¨í…Œì´ë„ˆ)
â”œâ”€â”€ Sidebar (ì¥ì†Œ ëª©ë¡)
â”‚   â””â”€â”€ PlaceListItem (ê°œë³„ ì¥ì†Œ)
â”œâ”€â”€ Inspector (ì„ íƒëœ ì¥ì†Œ ìƒì„¸)
â””â”€â”€ Map (Mapbox ì§€ë„)
    â””â”€â”€ Markers (ì§€ë„ ë§ˆì»¤ë“¤)
```

### 1.2 Mapbox ì´ˆê¸°í™”

**Mapboxë€?**
- ì¸í„°ë™í‹°ë¸Œ ì§€ë„ë¥¼ ë§Œë“œëŠ” JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬
- Google Mapsì˜ ëŒ€ì•ˆ
- ì»¤ìŠ¤í„°ë§ˆì´ì§• ììœ ë„ê°€ ë†’ìŒ

**ì´ˆê¸°í™” ì½”ë“œ:**
```jsx
import mapboxgl from "mapbox-gl";
import "mapbox-gl/dist/mapbox-gl.css";

// 1. API í† í° ì„¤ì •
mapboxgl.accessToken = "pk.eyJ1IjoiZXJpY25pbmciLCJhIjoiY21icXlubWM1MDRiczJvb2xwM2p0amNyayJ9...";

function App() {
  const mapRef = useRef(null);      // DOM ì°¸ì¡°
  const mapObj = useRef(null);      // Mapbox ì¸ìŠ¤í„´ìŠ¤
  const markerObjs = useRef([]);    // ë§ˆì»¤ ë°°ì—´

  useEffect(() => {
    // ì´ë¯¸ ìƒì„±ë˜ì—ˆìœ¼ë©´ ì¤‘ë‹¨
    if (mapObj.current) return;

    // 2. Mapbox ì§€ë„ ìƒì„±
    mapObj.current = new mapboxgl.Map({
      container: mapRef.current,                    // ë Œë”ë§í•  DOM ìš”ì†Œ
      style: "mapbox://styles/mapbox/streets-v12", // ì§€ë„ ìŠ¤íƒ€ì¼
      center: markerCoords[0],                      // ì´ˆê¸° ì¤‘ì‹¬ì  [ê²½ë„, ìœ„ë„]
      zoom: 12,                                     // ì´ˆê¸° ì¤Œ ë ˆë²¨
      attributionControl: false                     // ì†ì„± ì»¨íŠ¸ë¡¤ ìˆ¨ê¹€
    });

    // 3. ë§ˆì»¤ ì¶”ê°€
    addAllMarkers(places);

    // 4. ì§€ë„ë¥¼ ë§ˆì»¤ì— ë§ì¶° ì¡°ì •
    setTimeout(() => {
      fitMapToMarkers(mapObj.current, markerCoords);
    }, 0);

    // 5. ë¦¬ì‚¬ì´ì¦ˆ ì²˜ë¦¬
    requestAnimationFrame(() => mapObj.current.resize());
    window.addEventListener("resize", mapObj.current.resize);

    // 6. í´ë¦°ì—…
    return () => {
      window.removeEventListener("resize", mapObj.current.resize);
      mapObj.current.remove();
    };
  }, []); // ë¹ˆ ë°°ì—´ - í•œ ë²ˆë§Œ ì‹¤í–‰

  return <div ref={mapRef} />;
}
```

**ì™œ useRefë¥¼ ì‚¬ìš©í•˜ë‚˜?**

```jsx
// âŒ useState ì‚¬ìš© ì‹œ
const [map, setMap] = useState(null);

useEffect(() => {
  const newMap = new mapboxgl.Map({ ... });
  setMap(newMap);  // ìƒíƒœ ì—…ë°ì´íŠ¸ â†’ ë¦¬ë Œë”ë§!
}, []);

// ë¬¸ì œ: ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì§€ë„ê°€ ìƒˆë¡œ ìƒì„±ë  ìˆ˜ ìˆìŒ

// âœ… useRef ì‚¬ìš© ì‹œ
const mapObj = useRef(null);

useEffect(() => {
  mapObj.current = new mapboxgl.Map({ ... });
  // ë¦¬ë Œë”ë§ ì—†ìŒ - ì•ˆì „!
}, []);
```

### 1.3 ë§ˆì»¤ ì¶”ê°€í•˜ê¸°

```jsx
function addAllMarkers(placesList) {
  // ê¸°ì¡´ ë§ˆì»¤ ì œê±°
  markerObjs.current.forEach(m => m.remove());
  markerObjs.current = [];

  placesList.forEach(place => {
    // ë§ˆì»¤ ìƒì„±
    const marker = new mapboxgl.Marker({
      color: "#F46C21"  // ì£¼í™©ìƒ‰
    })
      .setLngLat(place.coords)      // ìœ„ì¹˜ ì„¤ì •
      .addTo(mapObj.current);       // ì§€ë„ì— ì¶”ê°€

    // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸
    const el = marker.getElement();
    if (el) {
      el.style.cursor = "pointer";
      el.addEventListener("click", () => {
        navigate(`/place/${place.id}`);
        panTo(place.coords, { offsetForInspector: true });
      });
    }

    markerObjs.current.push(marker);
  });
}
```

**Marker ì˜µì…˜:**
```javascript
new mapboxgl.Marker({
  color: "#F46C21",           // ë§ˆì»¤ ìƒ‰ìƒ
  draggable: false,           // ë“œë˜ê·¸ ê°€ëŠ¥ ì—¬ë¶€
  rotation: 0,                // íšŒì „ ê°ë„
  pitchAlignment: "viewport", // ê¸°ìš¸ê¸° ì •ë ¬
  scale: 1.0                  // í¬ê¸°
})
```

### 1.4 ì§€ë„ ì´ë™ (Pan & Zoom)

**fitMapToMarkers - ëª¨ë“  ë§ˆì»¤ê°€ ë³´ì´ë„ë¡ ì¡°ì •:**
```jsx
function fitMapToMarkers(map, coords) {
  if (!map || !coords.length) return;

  // ë§ˆì»¤ê°€ í•˜ë‚˜ë§Œ ìˆìœ¼ë©´ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™
  if (coords.length === 1) {
    map.flyTo({ center: coords[0], zoom: 12 });
    return;
  }

  // ì—¬ëŸ¬ ë§ˆì»¤ - ëª¨ë‘ í¬í•¨í•˜ëŠ” ì˜ì—­ ê³„ì‚°
  const bounds = coords.reduce(
    (b, c) => b.extend(c),
    new mapboxgl.LngLatBounds(coords[0], coords[0])
  );

  // ì˜ì—­ì— ë§ì¶° ì§€ë„ ì¡°ì •
  map.fitBounds(bounds, {
    padding: 60,        // ê°€ì¥ìë¦¬ ì—¬ë°±
    animate: true       // ì• ë‹ˆë©”ì´ì…˜
  });
}
```

**panTo - íŠ¹ì • ìœ„ì¹˜ë¡œ ë¶€ë“œëŸ½ê²Œ ì´ë™:**
```jsx
function panTo(coord, { offsetForInspector } = {}) {
  if (!mapObj.current) return;

  // Inspectorê°€ ì—´ë ¤ìˆìœ¼ë©´ ì˜¤í”„ì…‹ ì ìš©
  const inspectorOffset = offsetForInspector ? getInspectorOffsetPx() : 0;

  const flyOpts = {
    center: coord,
    zoom: 14,
    speed: 1.2,        // ì´ë™ ì†ë„
    curve: 1.6         // ì´ë™ ê³¡ì„ 
  };

  if (inspectorOffset) {
    flyOpts.offset = [inspectorOffset, 0];
  }

  mapObj.current.flyTo(flyOpts);
}
```

**ì™œ ì˜¤í”„ì…‹ì´ í•„ìš”í•œê°€?**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar  â”‚  Map Area  â”‚  Inspector   â”‚
â”‚           â”‚            â”‚              â”‚
â”‚  Places   â”‚    ğŸ—ºï¸      â”‚  Details     â”‚
â”‚  List     â”‚   ğŸ“ â†â”€â”€â”€â”€â”€â”¼â”€ Offset!    â”‚
â”‚           â”‚            â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Inspectorê°€ ì—´ë¦¬ë©´ ë§ˆì»¤ê°€ ê°€ë ¤ì§ˆ ìˆ˜ ìˆìŒ â†’ ì˜¤í”„ì…‹ì„ ì¤˜ì„œ ì¤‘ì•™ì— ë³´ì´ê²Œ!

### 1.5 React Router í†µí•©

**URL êµ¬ì¡°:**
```
/                    â†’ ì§€ë„ë§Œ í‘œì‹œ
/place/1             â†’ ì¥ì†Œ 1 ì„ íƒ + Inspector í‘œì‹œ
/place/2             â†’ ì¥ì†Œ 2 ì„ íƒ + Inspector í‘œì‹œ
```

**ë¼ìš°íŒ… ì„¤ì •:**
```jsx
function RouterRoot() {
  return (
    <Routes>
      <Route path="*" element={<App />}>
        <Route path="place/:placeId" element={<></>} />
      </Route>
    </Routes>
  );
}

createRoot(document.getElementById("pizzaz-root")).render(
  <BrowserRouter>
    <RouterRoot />
  </BrowserRouter>
);
```

**URLì—ì„œ ì„ íƒëœ ì¥ì†Œ ì¶”ì¶œ:**
```jsx
const location = useLocation();

const selectedId = React.useMemo(() => {
  // URL: /place/123 â†’ "123" ì¶”ì¶œ
  const match = location?.pathname?.match(/(?:^|\/)place\/([^/]+)/);
  return match && match[1] ? match[1] : null;
}, [location?.pathname]);

const selectedPlace = places.find(p => p.id === selectedId) || null;
```

**ì¥ì†Œ ì„ íƒ ì‹œ URL ë³€ê²½:**
```jsx
const navigate = useNavigate();

function handlePlaceClick(place) {
  navigate(`/place/${place.id}`);
  panTo(place.coords, { offsetForInspector: true });
}
```

### 1.6 DisplayModeì— ë”°ë¥¸ ë ˆì´ì•„ì›ƒ

```jsx
const displayMode = useOpenAiGlobal("displayMode");
const maxHeight = useMaxHeight() ?? undefined;

return (
  <div
    style={{
      maxHeight,
      height: displayMode === "fullscreen" ? maxHeight - 40 : 480
    }}
    className={
      displayMode === "fullscreen"
        ? "rounded-none border-0"
        : "border border-black/10 rounded-2xl sm:rounded-3xl"
    }
  >
    {/* Sidebar - í•­ìƒ í‘œì‹œ */}
    <Sidebar places={places} selectedId={selectedId} onSelect={handleSelect} />

    {/* Inspector - fullscreenì¼ ë•Œë§Œ í‘œì‹œ */}
    <AnimatePresence>
      {displayMode === "fullscreen" && selectedPlace && (
        <Inspector place={selectedPlace} onClose={() => navigate("..")} />
      )}
    </AnimatePresence>

    {/* Map */}
    <div ref={mapRef} />

    {/* ì „ì²´í™”ë©´ ë²„íŠ¼ - inline/pipì¼ ë•Œë§Œ í‘œì‹œ */}
    {displayMode !== "fullscreen" && (
      <button onClick={() => {
        window.webplus.requestDisplayMode({ mode: "fullscreen" });
      }}>
        <Maximize2 />
      </button>
    )}
  </div>
);
```

### 1.7 Sidebar ì»´í¬ë„ŒíŠ¸ ìƒì„¸

**ë°ìŠ¤í¬í†± ë ˆì´ì•„ì›ƒ:**
```jsx
// src/pizzaz/Sidebar.jsx
export default function Sidebar({ places, selectedId, onSelect }) {
  const displayMode = useOpenAiGlobal("displayMode");
  const forceMobile = displayMode !== "fullscreen";

  return (
    <>
      {/* ë°ìŠ¤í¬í†± - ì™¼ìª½ ì‚¬ì´ë“œë°” */}
      <div className={forceMobile ? "hidden" : ""}>
        <div className="absolute inset-y-0 left-0 w-[340px] overflow-y-auto">
          <div className="sticky top-0 bg-white">
            {places.length} results
          </div>
          {places.map(place => (
            <PlaceListItem
              key={place.id}
              place={place}
              isSelected={selectedId === place.id}
              onClick={() => onSelect(place)}
            />
          ))}
        </div>
      </div>

      {/* ëª¨ë°”ì¼ - í•˜ë‹¨ ìºëŸ¬ì…€ */}
      <div className={forceMobile ? "" : "hidden"}>
        <div className="absolute inset-x-0 bottom-0">
          <div className="overflow-hidden" ref={emblaRef}>
            <div className="flex gap-3">
              {places.map(place => (
                <PlaceListItem key={place.id} place={place} />
              ))}
            </div>
          </div>
        </div>
      </div>
    </>
  );
}
```

**Embla Carousel ì‚¬ìš©:**
```jsx
import useEmblaCarousel from "embla-carousel-react";

function Sidebar() {
  const [emblaRef] = useEmblaCarousel({
    dragFree: true,  // ììœ ë¡­ê²Œ ë“œë˜ê·¸
    loop: false      // ë¬´í•œ ë£¨í”„ ë¹„í™œì„±í™”
  });

  return (
    <div ref={emblaRef}>
      <div className="flex gap-3">
        {/* ì•„ì´í…œë“¤ */}
      </div>
    </div>
  );
}
```

### 1.8 Inspector ì• ë‹ˆë©”ì´ì…˜

```jsx
// src/pizzaz/Inspector.jsx
import { motion, AnimatePresence } from "framer-motion";

function Inspector({ place, onClose }) {
  return (
    <motion.div
      initial={{ opacity: 0, x: 100 }}      // ì‹œì‘: íˆ¬ëª…, ì˜¤ë¥¸ìª½
      animate={{ opacity: 1, x: 0 }}         // ì¢…ë£Œ: ë¶ˆíˆ¬ëª…, ì œìë¦¬
      exit={{ opacity: 0, x: 100 }}          // ì‚¬ë¼ì§ˆ ë•Œ: íˆ¬ëª…, ì˜¤ë¥¸ìª½
      transition={{
        type: "spring",
        bounce: 0.2,
        duration: 0.5
      }}
      className="absolute right-0 top-0 w-96 h-full bg-white"
    >
      <button onClick={onClose}>ë‹«ê¸°</button>
      <h2>{place.name}</h2>
      <p>{place.description}</p>
      <img src={place.image} alt={place.name} />
    </motion.div>
  );
}
```

---

## 2. Todo ë¦¬ìŠ¤íŠ¸ ìœ„ì ¯ ì™„ì „ ë¶„ì„

### 2.1 ì „ì²´ êµ¬ì¡°

**ìƒíƒœ ê´€ë¦¬ êµ¬ì¡°:**
```javascript
const [data, setData] = useState({
  lists: [
    {
      id: "list1",
      title: "ê°œì¸ í•  ì¼",
      todos: [
        { id: "todo1", title: "ìš´ë™í•˜ê¸°", isComplete: false, note: "", dueDate: "2024-12-31" },
        { id: "todo2", title: "ì±… ì½ê¸°", isComplete: true, note: "30ë¶„", dueDate: null }
      ]
    },
    {
      id: "list2",
      title: "ì—…ë¬´",
      todos: [...]
    }
  ]
});
```

**í™”ë©´ êµ¬ì„±:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€ My Lists â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“‹ ê°œì¸ í•  ì¼                     â”‚ â”‚
â”‚  â”‚  ğŸ’¼ ì—…ë¬´                          â”‚ â”‚
â”‚  â”‚  ğŸ  ì§‘ì•ˆì¼                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ ë¦¬ìŠ¤íŠ¸ í´ë¦­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ê°œì¸ í•  ì¼                    + âœ“   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â—‹ ìš´ë™í•˜ê¸°              ğŸ“… 12/31 â”‚ â”‚
â”‚  â”‚ â— ì±… ì½ê¸° (ì™„ë£Œ)                 â”‚ â”‚
â”‚  â”‚ â—‹ ë¬¼ ë§ˆì‹œê¸°                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë¶ˆë³€ì„± ìœ ì§€ íŒ¨í„´

**Reactì—ì„œ ì™œ ë¶ˆë³€ì„±ì´ ì¤‘ìš”í•œê°€?**

```jsx
// âŒ ë‚˜ìœ ì˜ˆ - ì§ì ‘ ìˆ˜ì •
function badAddTodo() {
  data.lists[0].todos.push(newTodo);  // ë°°ì—´ ì§ì ‘ ìˆ˜ì •
  setData(data);  // ReactëŠ” ê°™ì€ ê°ì²´ë¼ê³  íŒë‹¨ â†’ ë¦¬ë Œë”ë§ ì•ˆ ë¨!
}

// âœ… ì¢‹ì€ ì˜ˆ - ìƒˆ ê°ì²´ ìƒì„±
function goodAddTodo() {
  setData(prev => {
    const lists = prev.lists.slice();     // ë°°ì—´ ë³µì‚¬
    const list = { ...lists[0] };         // ê°ì²´ ë³µì‚¬
    list.todos = [newTodo, ...list.todos]; // ìƒˆ ë°°ì—´
    lists[0] = list;
    return { lists };  // ìƒˆ ê°ì²´ ë°˜í™˜
  });
}
```

**ì‹¤ì œ êµ¬í˜„ - Todo ì¶”ê°€:**
```jsx
const addTodo = () => {
  if (currentList == null) return;

  const newId = uid();  // ê³ ìœ  ID ìƒì„±

  setData(prev => {
    const lists = prev.lists.slice();           // 1. lists ë°°ì—´ ë³µì‚¬
    const listIdx = currentTodoList;
    const list = { ...lists[listIdx] };         // 2. list ê°ì²´ ë³µì‚¬
    list.todos = [                              // 3. todos ë°°ì—´ êµì²´
      { id: newId, title: "", isComplete: false, note: "", dueDate: null },
      ...list.todos
    ];
    lists[listIdx] = list;                      // 4. lists ë°°ì—´ì— ì—…ë°ì´íŠ¸
    return { lists };                           // 5. ìƒˆ data ê°ì²´ ë°˜í™˜
  });
};
```

**ì‹¤ì œ êµ¬í˜„ - Todo ì—…ë°ì´íŠ¸:**
```jsx
const updateItemById = (id, val) => {
  setData(prev => {
    const lists = prev.lists.slice();
    const list = { ...lists[listIdx] };
    list.todos = list.todos.map(t =>
      t.id === id ? { ...t, ...val } : t  // í•´ë‹¹ todoë§Œ ì—…ë°ì´íŠ¸
    );
    lists[listIdx] = list;
    return { lists };
  });
};

// ì‚¬ìš©:
updateItemById("todo1", { isComplete: true });
updateItemById("todo2", { title: "ìƒˆ ì œëª©" });
updateItemById("todo3", { dueDate: "2024-12-31" });
```

### 2.3 Framer Motion ë“œë˜ê·¸ ì•¤ ë“œë¡­

**Reorder ì»´í¬ë„ŒíŠ¸:**
```jsx
import { Reorder } from "framer-motion";

function TodoList({ items }) {
  const itemIds = useMemo(() => items.map(t => t.id), [items]);

  return (
    <Reorder.Group
      axis="y"              // ìˆ˜ì§ ë“œë˜ê·¸
      values={itemIds}      // í˜„ì¬ ìˆœì„œ (ID ë°°ì—´)
      onReorder={setItemsByOrder}  // ìˆœì„œ ë³€ê²½ ì½œë°±
    >
      {items.map(item => (
        <Reorder.Item
          key={item.id}
          value={item.id}
          dragListener={false}    // ìë™ ë“œë˜ê·¸ ë¹„í™œì„±í™”
          dragControls={controls} // ì»¤ìŠ¤í…€ ë“œë˜ê·¸ ì»¨íŠ¸ë¡¤
        >
          <TodoListItem item={item} />
        </Reorder.Item>
      ))}
    </Reorder.Group>
  );
}
```

**ì™œ ID ë°°ì—´ì„ ì‚¬ìš©í•˜ë‚˜?**

```jsx
// âŒ ê°ì²´ ë°°ì—´ ì‚¬ìš© ì‹œ
<Reorder.Group values={items} onReorder={setItems}>
  {/* ë¬¸ì œ: ê°ì²´ê°€ í¬ë©´ ì„±ëŠ¥ ì €í•˜ */}

// âœ… ID ë°°ì—´ ì‚¬ìš© ì‹œ
<Reorder.Group values={itemIds} onReorder={setItemsByOrder}>
  {/* IDë§Œ ì „ë‹¬ â†’ ê°€ë³ê³  ë¹ ë¦„ */}
```

**ì»¤ìŠ¤í…€ ë“œë˜ê·¸ í•¸ë“¤:**
```jsx
function TodoListItem({ item }) {
  const controls = useDragControls();

  // ë“œë˜ê·¸ vs í´ë¦­ êµ¬ë¶„
  const dragStartedRef = useRef(false);
  const pointerDownPosRef = useRef(null);
  const POINTER_THRESHOLD = 4; // px

  const onEllipsisPointerDown = (e) => {
    e.stopPropagation();
    pointerDownPosRef.current = { x: e.clientX, y: e.clientY };
    dragStartedRef.current = false;
  };

  const onEllipsisPointerMove = (e) => {
    if (!pointerDownPosRef.current || dragStartedRef.current) return;

    const dx = e.clientX - pointerDownPosRef.current.x;
    const dy = e.clientY - pointerDownPosRef.current.y;

    if (Math.hypot(dx, dy) >= POINTER_THRESHOLD) {
      dragStartedRef.current = true;
      controls.start(e);  // ë“œë˜ê·¸ ì‹œì‘
    }
  };

  const onEllipsisPointerUp = (e) => {
    if (!dragStartedRef.current) {
      setMenuOpen(true);  // í´ë¦­ìœ¼ë¡œ íŒë‹¨ â†’ ë©”ë‰´ ì—´ê¸°
    }
  };

  return (
    <Reorder.Item dragControls={controls}>
      <button
        onPointerDown={onEllipsisPointerDown}
        onPointerMove={onEllipsisPointerMove}
        onPointerUp={onEllipsisPointerUp}
      >
        <EllipsisVertical />
      </button>
    </Reorder.Item>
  );
}
```

### 2.4 React DatePicker í†µí•©

**DatePicker ìŠ¤íƒ€ì¼ ì£¼ì…:**
```jsx
function injectDatepickerStylesOnce() {
  if (__datepickerStylesInjected) return;
  __datepickerStylesInjected = true;

  const css = `
    .react-datepicker {
      font-family: ui-sans-serif, system-ui;
      font-size: 12px;
      background: #fff;
      border: 1px solid rgba(0,0,0,0.10);
      border-radius: 10px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.10);
    }
    /* ... ë” ë§ì€ ìŠ¤íƒ€ì¼ */
  `;

  const style = document.createElement("style");
  style.textContent = css;
  document.head.appendChild(style);
}

useEffect(() => {
  injectDatepickerStylesOnce();
}, []);
```

**DatePicker ì‚¬ìš©:**
```jsx
import DatePicker from "react-datepicker";

function TodoListItem({ item, updateItemById }) {
  const datepickerRef = useRef(null);

  // YYYY-MM-DD â†” Date ê°ì²´ ë³€í™˜
  const selectedDate = parseYMD(item.dueDate);  // "2024-12-31" â†’ Date

  const handleDateChange = (date) => {
    const ymd = toYMD(date);  // Date â†’ "2024-12-31"
    updateItemById(item.id, { dueDate: ymd });
  };

  return (
    <DatePicker
      ref={datepickerRef}
      selected={selectedDate}
      onChange={handleDateChange}
      dateFormat="yyyy-MM-dd"
      customInput={<HiddenAnchorInput />}
      popperPlacement="bottom-start"
      renderCustomHeader={renderHeader}  // ì»¤ìŠ¤í…€ í—¤ë”
    />
  );
}
```

**ì»¤ìŠ¤í…€ í—¤ë” (Prev | ì›” ë…„ë„ | Next):**
```jsx
const renderHeader = ({
  date,
  decreaseMonth,
  increaseMonth,
  prevMonthButtonDisabled,
  nextMonthButtonDisabled
}) => {
  return (
    <div className="flex items-center justify-center">
      <button onClick={decreaseMonth} disabled={prevMonthButtonDisabled}>
        Prev
      </button>
      <div className="font-semibold">
        {date.toLocaleDateString(undefined, { month: "long", year: "numeric" })}
      </div>
      <button onClick={increaseMonth} disabled={nextMonthButtonDisabled}>
        Next
      </button>
    </div>
  );
};
```

### 2.5 Zoom ì• ë‹ˆë©”ì´ì…˜

**ZoomViewer - ë¦¬ìŠ¤íŠ¸ì—ì„œ ìƒì„¸ë¡œ í™•ëŒ€:**
```jsx
function ZoomViewer({ origin, containerRef, children }) {
  // ì‹œì‘ ìœ„ì¹˜ ê³„ì‚°
  const originRect = getRelativePosition(
    origin.current.getBoundingClientRect(),
    containerRef.current.getBoundingClientRect()
  );

  const initial = {
    left: originRect.left,
    top: originRect.top,
    width: originRect.width,
    height: originRect.height
  };

  const animate = {
    left: 0,
    top: 0,
    width: "100%",
    height: "100%"
  };

  return (
    <motion.div
      initial={initial}       // ì‘ì€ ìƒìì—ì„œ ì‹œì‘
      animate={animate}       // ì „ì²´ í™”ë©´ìœ¼ë¡œ í™•ëŒ€
      exit={initial}          // ë‹¤ì‹œ ì‘ì€ ìƒìë¡œ ì¶•ì†Œ
      transition={{
        type: "spring",
        bounce: 0.16,
        duration: 0.56
      }}
    >
      {children}
    </motion.div>
  );
}
```

**ì‚¬ìš©:**
```jsx
function App() {
  const rowRefs = useRef({});  // ê° ë¦¬ìŠ¤íŠ¸ í–‰ì˜ ref ì €ì¥

  return (
    <AnimatePresence mode="popLayout">
      {currentList != null && currentTodoListRef ? (
        <ZoomViewer origin={currentTodoListRef} containerRef={containerRef}>
          <TodoList list={currentList} />
        </ZoomViewer>
      ) : (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
        >
          {/* ë¦¬ìŠ¤íŠ¸ ëª©ë¡ */}
        </motion.div>
      )}
    </AnimatePresence>
  );
}
```

### 2.6 CircleCheckbox ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸

```jsx
function CircleCheckbox({ checked, onToggle, label }) {
  return (
    <div
      role="checkbox"
      aria-checked={checked}
      tabIndex={0}
      onKeyDown={(e) => {
        if (e.key === " " || e.key === "Enter") {
          e.preventDefault();
          onToggle();
        }
      }}
      onClick={(e) => {
        e.stopPropagation();
        onToggle();
      }}
      className="w-4 h-4 rounded-full border cursor-pointer"
      aria-label={label}
    >
      <AnimatePresence initial={false}>
        {checked && (
          <motion.div
            initial={{ scale: 0.6, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.6, opacity: 0 }}
            transition={{ type: "spring", bounce: 0.3, duration: 0.28 }}
            className="rounded-full bg-black w-[11.5px] h-[11.5px]"
          />
        )}
      </AnimatePresence>
    </div>
  );
}
```

**ì ‘ê·¼ì„± ê³ ë ¤:**
- `role="checkbox"` - ìŠ¤í¬ë¦° ë¦¬ë”ì— ì²´í¬ë°•ìŠ¤ì„ì„ ì•Œë¦¼
- `aria-checked` - ì²´í¬ ìƒíƒœ ì „ë‹¬
- `tabIndex={0}` - í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ ê°€ëŠ¥
- `onKeyDown` - ìŠ¤í˜ì´ìŠ¤ë°”/ì—”í„°ë¡œë„ í† ê¸€

---

## 3. Solar System 3D ìœ„ì ¯ ì™„ì „ ë¶„ì„

### 3.1 Three.jsì™€ React Three Fiber

**Three.jsë€?**
- ì›¹ì—ì„œ 3D ê·¸ë˜í”½ì„ ë§Œë“œëŠ” JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬
- WebGLì„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•¨

**React Three Fiberë€?**
- Three.jsë¥¼ React ì»´í¬ë„ŒíŠ¸ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

**ê¸°ë³¸ êµ¬ì¡°:**
```jsx
import { Canvas } from "@react-three/fiber";

function SolarSystem() {
  return (
    <Canvas camera={{ position: [0, 2, 8], fov: 60 }}>
      {/* 3D ì”¬ ë‚´ìš© */}
      <ambientLight intensity={0.135} />
      <pointLight position={[0, 0, 0]} intensity={18} />
      <Sun />
      <Planet name="Earth" />
    </Canvas>
  );
}
```

**Canvas ì»´í¬ë„ŒíŠ¸:**
- Three.js Scene, Camera, Rendererë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •
- `camera` propìœ¼ë¡œ ì¹´ë©”ë¼ ìœ„ì¹˜ì™€ ì‹œì•¼ê° ì„¤ì •

### 3.2 í–‰ì„± ì»´í¬ë„ŒíŠ¸

```jsx
function Planet({ name, radius, size, speed, isOrbiting, onPlanetClick, ref }) {
  const SPEED_SCALE = 0.2;
  const mesh = useRef();
  const theta = useRef(Math.random() * Math.PI * 2);  // ì´ˆê¸° ê°ë„

  // ë¶€ëª¨ì—ì„œ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡
  useImperativeHandle(ref, () => ({
    getPosition: () => mesh.current.position.clone()
  }));

  // í…ìŠ¤ì²˜ ë¡œë“œ
  const texture = useLoader(
    THREE.TextureLoader,
    `https://persistent.oaistatic.com/ecosys/${name.toLowerCase()}_2k.webp`
  );

  // ì• ë‹ˆë©”ì´ì…˜ - ë§¤ í”„ë ˆì„ ì‹¤í–‰
  useFrame(() => {
    if (isOrbiting) {
      theta.current += speed * SPEED_SCALE;
      const x = radius * Math.cos(theta.current);
      const z = radius * Math.sin(theta.current);
      mesh.current.position.set(x, 0, z);
    }
  });

  return (
    <mesh
      ref={mesh}
      onClick={(e) => {
        e.stopPropagation();
        onPlanetClick(mesh.current.position.clone());
      }}
    >
      <sphereGeometry args={[size, 32, 32]} />
      <meshStandardMaterial map={texture} />
      {name === "Saturn" && <SaturnRing planetSize={size} />}
    </mesh>
  );
}
```

**Three.js ê°ì²´ë¥¼ Reactë¡œ:**
```jsx
// Three.js ë°©ì‹
const geometry = new THREE.SphereGeometry(1, 32, 32);
const material = new THREE.MeshStandardMaterial({ map: texture });
const mesh = new THREE.Mesh(geometry, material);

// React Three Fiber ë°©ì‹
<mesh>
  <sphereGeometry args={[1, 32, 32]} />
  <meshStandardMaterial map={texture} />
</mesh>
```

### 3.3 useFrame - ì• ë‹ˆë©”ì´ì…˜ ë£¨í”„

```jsx
import { useFrame } from "@react-three/fiber";

function Planet() {
  const mesh = useRef();
  const theta = useRef(0);

  useFrame((state, delta) => {
    // state: { clock, camera, scene, gl, ... }
    // delta: ì´ì „ í”„ë ˆì„ê³¼ì˜ ì‹œê°„ ì°¨ì´ (ì´ˆ)

    theta.current += 0.01;
    const x = 5 * Math.cos(theta.current);
    const z = 5 * Math.sin(theta.current);
    mesh.current.position.set(x, 0, z);

    // íšŒì „ë„ ì¶”ê°€
    mesh.current.rotation.y += 0.01;
  });

  return <mesh ref={mesh}>...</mesh>;
}
```

**ì™œ useFrameì„ ì‚¬ìš©í•˜ë‚˜?**

```jsx
// âŒ setInterval ì‚¬ìš© ì‹œ
useEffect(() => {
  const timer = setInterval(() => {
    // ë¬¸ì œ 1: React ìƒíƒœ ì—…ë°ì´íŠ¸ â†’ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§
    // ë¬¸ì œ 2: 60fpsì— ë§ì¶°ì§€ì§€ ì•ŠìŒ
    // ë¬¸ì œ 3: íƒ­ì´ ë¹„í™œì„±í™”ë˜ì–´ë„ ì‹¤í–‰
  }, 16);
}, []);

// âœ… useFrame ì‚¬ìš© ì‹œ
useFrame(() => {
  // ë¸Œë¼ìš°ì €ì˜ requestAnimationFrame ì‚¬ìš©
  // 60fpsì— ìë™ìœ¼ë¡œ ë§ì¶°ì§
  // íƒ­ì´ ë¹„í™œì„±í™”ë˜ë©´ ìë™ ì¼ì‹œì •ì§€
  // React ë¦¬ë Œë”ë§ ì—†ìŒ
});
```

### 3.4 OrbitControls - ì¹´ë©”ë¼ ì»¨íŠ¸ë¡¤

```jsx
import { OrbitControls } from "@react-three/drei";

function SolarSystem() {
  const orbitControlsRef = useRef();

  return (
    <Canvas>
      <OrbitControls
        ref={orbitControlsRef}
        enableDamping={true}        // ë¶€ë“œëŸ¬ìš´ ê°ì†
        dampingFactor={0.05}
        minDistance={5}             // ìµœì†Œ ì¤Œ ê±°ë¦¬
        maxDistance={50}            // ìµœëŒ€ ì¤Œ ê±°ë¦¬
        enablePan={true}            // íŒ¨ë‹ í—ˆìš©
        enableZoom={true}           // ì¤Œ í—ˆìš©
        enableRotate={true}         // íšŒì „ í—ˆìš©
      />
      {/* ... */}
    </Canvas>
  );
}
```

**OrbitControls ê¸°ëŠ¥:**
- ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ â†’ ì¹´ë©”ë¼ íšŒì „
- ë§ˆìš°ìŠ¤ íœ  â†’ ì¤Œ ì¸/ì•„ì›ƒ
- ì˜¤ë¥¸ìª½ í´ë¦­ ë“œë˜ê·¸ â†’ íŒ¨ë‹

### 3.5 ì¹´ë©”ë¼ ì• ë‹ˆë©”ì´ì…˜

**Lerp (Linear Interpolation) - ë¶€ë“œëŸ¬ìš´ ì´ë™:**
```jsx
function CameraController({ targetPosition, orbitControlsRef }) {
  const { camera } = useThree();
  const targetCamPos = useRef(null);
  const targetCamFocus = useRef(null);

  useEffect(() => {
    if (!targetPosition) return;

    // ëª©í‘œ ìœ„ì¹˜ ì„¤ì •
    const offset = new THREE.Vector3()
      .subVectors(camera.position, targetPosition)
      .normalize()
      .multiplyScalar(2);  // í–‰ì„±ì—ì„œ 2 ë‹¨ìœ„ ë–¨ì–´ì§„ ê³³

    targetCamPos.current = targetPosition.clone().add(offset);
    targetCamFocus.current = targetPosition.clone();

    // ì‚¬ìš©ì ì¡°ì‘ ë¹„í™œì„±í™”
    if (orbitControlsRef.current) {
      orbitControlsRef.current.enabled = false;
    }
  }, [targetPosition]);

  useFrame(() => {
    if (!targetCamPos.current || !targetCamFocus.current) return;

    const lerpSpeed = 0.04;  // ë³´ê°„ ì†ë„ (ì‘ì„ìˆ˜ë¡ ëŠë¦¼)

    // ì¹´ë©”ë¼ ìœ„ì¹˜ ë³´ê°„
    camera.position.lerp(targetCamPos.current, lerpSpeed);

    // OrbitControls íƒ€ê²Ÿ ë³´ê°„
    if (orbitControlsRef.current) {
      orbitControlsRef.current.target.lerp(targetCamFocus.current, lerpSpeed);
      orbitControlsRef.current.update();
    }

    // ëª©í‘œì— ê±°ì˜ ë„ë‹¬í–ˆìœ¼ë©´ ì¢…ë£Œ
    if (
      camera.position.distanceTo(targetCamPos.current) < 0.05 &&
      orbitControlsRef.current.target.distanceTo(targetCamFocus.current) < 0.05
    ) {
      targetCamPos.current = null;
      targetCamFocus.current = null;
      orbitControlsRef.current.enabled = true;  // ì¡°ì‘ ë‹¤ì‹œ í™œì„±í™”
    }
  });

  return null;
}
```

**lerp í•¨ìˆ˜ë€?**
```javascript
// ì„ í˜• ë³´ê°„: aì—ì„œ bë¡œ të§Œí¼ ì´ë™
function lerp(a, b, t) {
  return a + (b - a) * t;
}

// ì˜ˆ:
lerp(0, 10, 0.5);   // 5 (ì¤‘ê°„)
lerp(0, 10, 0.1);   // 1 (10% ì´ë™)
lerp(0, 10, 0.9);   // 9 (90% ì´ë™)
```

**ì™œ ë§¤ í”„ë ˆì„ lerpë¥¼ í•˜ë‚˜?**
```javascript
// ì²« í”„ë ˆì„
position = 0
target = 10
position = lerp(0, 10, 0.1) = 1

// ë‘ ë²ˆì§¸ í”„ë ˆì„
position = 1
target = 10
position = lerp(1, 10, 0.1) = 1.9

// ì„¸ ë²ˆì§¸ í”„ë ˆì„
position = 1.9
target = 10
position = lerp(1.9, 10, 0.1) = 2.71

// ... ì ì  ëŠë¦¬ê²Œ ì ‘ê·¼ (ê°ì† íš¨ê³¼)
```

### 3.6 Post-Processing Effects

**EffectComposer - í›„ì²˜ë¦¬ íš¨ê³¼:**
```jsx
import { EffectComposer, Bloom, DepthOfField } from "@react-three/postprocessing";

function Effects({ focusTarget, hasFocus }) {
  const { camera } = useThree();
  const depthOfFieldRef = useRef();

  useFrame(() => {
    if (!depthOfFieldRef.current) return;

    if (!hasFocus) {
      depthOfFieldRef.current.bokehScale = 0;  // ë¸”ëŸ¬ ì—†ìŒ
      return;
    }

    // ê±°ë¦¬ì— ë”°ë¼ ë¸”ëŸ¬ ê°•ë„ ì¡°ì ˆ
    const d = camera.position.distanceTo(focusTarget);
    const scale = THREE.MathUtils.clamp(12 - d * 0.75, 0, 12);
    depthOfFieldRef.current.bokehScale = scale;
  });

  return (
    <EffectComposer>
      {/* Depth of Field - í”¼ì‚¬ê³„ ì‹¬ë„ (ë°°ê²½ íë¦¬ê¸°) */}
      <DepthOfField
        ref={depthOfFieldRef}
        focusDistance={0}
        focalLength={0.02}
        height={480}
        bokehScale={0}
        target={focusTarget}
      />

      {/* Bloom - ë°ì€ ë¶€ë¶„ ë¹›ë‚˜ê²Œ */}
      <Bloom
        luminanceThreshold={0}
        luminanceSmoothing={0.25}
        intensity={1.75}
        mipmapBlur
      />
    </EffectComposer>
  );
}
```

**íš¨ê³¼ ì˜ˆì‹œ:**
```
Depth of Field (í”¼ì‚¬ê³„ ì‹¬ë„):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [íë¦¼]  ğŸŒ Earth [ì„ ëª…]  [íë¦¼] â”‚
â”‚  Mars            Jupiter        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bloom (ê¸€ë¡œìš°):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      â˜€ï¸ Sun (ë¹›ë‚¨)              â”‚
â”‚     ğŸ’« Stars (ë°˜ì§ì„)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.7 ë°°ê²½ í…ìŠ¤ì²˜

```jsx
import { useThree, useLoader } from "@react-three/fiber";
import * as THREE from "three";

function SceneBackground() {
  const { scene } = useThree();

  const texture = useLoader(
    THREE.TextureLoader,
    "https://persistent.oaistatic.com/ecosys/stars_8k.webp"
  );

  useEffect(() => {
    // Equirectangular (360ë„ íŒŒë…¸ë¼ë§ˆ) ë§¤í•‘
    texture.mapping = THREE.EquirectangularReflectionMapping;
    scene.background = texture;
  }, [texture, scene]);

  return null;
}
```

---

## 4. ê³µí†µ íŒ¨í„´ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 4.1 ì½”ë“œ ë¶„í• ê³¼ ëª¨ë“ˆí™”

**ë‚˜ìœ ì˜ˆ - ëª¨ë“  ì½”ë“œë¥¼ í•œ íŒŒì¼ì—:**
```jsx
// index.jsx (3000ì¤„)
function App() {
  // ì§€ë„ ê´€ë ¨ ì½”ë“œ
  // ì‚¬ì´ë“œë°” ê´€ë ¨ ì½”ë“œ
  // Inspector ê´€ë ¨ ì½”ë“œ
  // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
  // ...
}
```

**ì¢‹ì€ ì˜ˆ - ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬:**
```
src/pizzaz/
â”œâ”€â”€ index.jsx           # ë©”ì¸ ë¡œì§ë§Œ
â”œâ”€â”€ Sidebar.jsx         # ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ Inspector.jsx       # Inspector ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ utils.js            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ types.ts            # íƒ€ì… ì •ì˜
```

### 4.2 Props Drilling í•´ê²°

**ë¬¸ì œ: Propsë¥¼ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ì „ë‹¬:**
```jsx
function App() {
  const [user, setUser] = useState(null);
  return <Parent user={user} setUser={setUser} />;
}

function Parent({ user, setUser }) {
  return <Child user={user} setUser={setUser} />;
}

function Child({ user, setUser }) {
  return <GrandChild user={user} setUser={setUser} />;
}

function GrandChild({ user, setUser }) {
  return <div>{user.name}</div>;  // ì—¬ê¸°ì„œ ì‚¬ìš©
}
```

**í•´ê²° 1: Context API:**
```jsx
const UserContext = React.createContext();

function App() {
  const [user, setUser] = useState(null);
  return (
    <UserContext.Provider value={{ user, setUser }}>
      <Parent />
    </UserContext.Provider>
  );
}

function GrandChild() {
  const { user } = useContext(UserContext);
  return <div>{user.name}</div>;
}
```

**í•´ê²° 2: ì»¤ìŠ¤í…€ í›… (ì´ í”„ë¡œì íŠ¸ ë°©ì‹):**
```jsx
// use-user.ts
export function useUser() {
  return useOpenAiGlobal("user");
}

// ì–´ë””ì„œë“  ì‚¬ìš©
function GrandChild() {
  const user = useUser();
  return <div>{user.name}</div>;
}
```

### 4.3 ì—ëŸ¬ ì²˜ë¦¬

```jsx
function SafeComponent() {
  const [error, setError] = useState(null);

  useEffect(() => {
    async function loadData() {
      try {
        const data = await fetchData();
        setData(data);
      } catch (err) {
        console.error("Failed to load data:", err);
        setError(err.message);
      }
    }
    loadData();
  }, []);

  if (error) {
    return (
      <div className="error">
        ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {error}
      </div>
    );
  }

  return <div>...</div>;
}
```

### 4.4 ì„±ëŠ¥ ìµœì í™”

**1. useMemo - ë¹„ì‹¼ ê³„ì‚° ìºì‹±:**
```jsx
function ExpensiveList({ items }) {
  // âŒ ë§¤ ë Œë”ë§ë§ˆë‹¤ ê³„ì‚°
  const sortedItems = items.sort((a, b) => b.date - a.date);

  // âœ… itemsê°€ ë³€ê²½ë  ë•Œë§Œ ê³„ì‚°
  const sortedItems = useMemo(() => {
    return items.sort((a, b) => b.date - a.date);
  }, [items]);

  return <div>...</div>;
}
```

**2. useCallback - í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜:**
```jsx
function Parent() {
  const [count, setCount] = useState(0);

  // âŒ ë§¤ ë Œë”ë§ë§ˆë‹¤ ìƒˆ í•¨ìˆ˜ ìƒì„±
  const handleClick = () => {
    setCount(c => c + 1);
  };

  // âœ… í•œ ë²ˆë§Œ ìƒì„±
  const handleClick = useCallback(() => {
    setCount(c => c + 1);
  }, []);

  return <Child onClick={handleClick} />;
}
```

**3. React.memo - ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜:**
```jsx
// âŒ ë¶€ëª¨ê°€ ë¦¬ë Œë”ë§ë˜ë©´ í•­ìƒ ë¦¬ë Œë”ë§
function PlaceCard({ place }) {
  return <div>{place.name}</div>;
}

// âœ… placeê°€ ë³€ê²½ë  ë•Œë§Œ ë¦¬ë Œë”ë§
const PlaceCard = React.memo(function PlaceCard({ place }) {
  return <div>{place.name}</div>;
});
```

### 4.5 ì ‘ê·¼ì„± (Accessibility)

**í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜:**
```jsx
<div
  role="button"
  tabIndex={0}
  onClick={handleClick}
  onKeyDown={(e) => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      handleClick();
    }
  }}
>
  í´ë¦­ ê°€ëŠ¥í•œ ìš”ì†Œ
</div>
```

**ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›:**
```jsx
<button
  aria-label="ì¥ì†Œ ì‚­ì œ"
  aria-describedby="delete-help"
>
  <Trash2 aria-hidden="true" />
</button>
<span id="delete-help" className="sr-only">
  ì´ ì¥ì†Œë¥¼ ëª©ë¡ì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤
</span>
```

---

## 5. ì• ë‹ˆë©”ì´ì…˜ê³¼ ì¸í„°ë™ì…˜

### 5.1 Framer Motion í•µì‹¬ íŒ¨í„´

**1. ê¸°ë³¸ ì• ë‹ˆë©”ì´ì…˜:**
```jsx
<motion.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  exit={{ opacity: 0, y: -20 }}
  transition={{ duration: 0.3 }}
>
  ë‚´ìš©
</motion.div>
```

**2. í˜¸ë²„ ì• ë‹ˆë©”ì´ì…˜:**
```jsx
<motion.button
  whileHover={{ scale: 1.05 }}
  whileTap={{ scale: 0.95 }}
>
  ë²„íŠ¼
</motion.button>
```

**3. ë ˆì´ì•„ì›ƒ ì• ë‹ˆë©”ì´ì…˜:**
```jsx
<motion.div layout>
  {items.map(item => (
    <motion.div key={item.id} layout>
      {item.text}
    </motion.div>
  ))}
</motion.div>
```

**4. AnimatePresence - ì»´í¬ë„ŒíŠ¸ ì œê±° ì• ë‹ˆë©”ì´ì…˜:**
```jsx
<AnimatePresence>
  {isVisible && (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}  // ì œê±°ë  ë•Œ ì• ë‹ˆë©”ì´ì…˜
    >
      ë‚´ìš©
    </motion.div>
  )}
</AnimatePresence>
```

### 5.2 ìŠ¤í”„ë§ ì• ë‹ˆë©”ì´ì…˜

```jsx
<motion.div
  animate={{ x: 100 }}
  transition={{
    type: "spring",
    stiffness: 100,  // ê°•ì„± (ë†’ì„ìˆ˜ë¡ ë¹ ë¦„)
    damping: 10,     // ê°ì‡  (ë†’ì„ìˆ˜ë¡ ë¹¨ë¦¬ ë©ˆì¶¤)
    mass: 1          // ì§ˆëŸ‰
  }}
/>
```

**ìŠ¤í”„ë§ íŒŒë¼ë¯¸í„° íš¨ê³¼:**
```
stiffness: 300, damping: 10  â†’ ë¹ ë¥´ê³  íŠ€ëŠ” ì• ë‹ˆë©”ì´ì…˜
stiffness: 100, damping: 20  â†’ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
stiffness: 50, damping: 30   â†’ ëŠë¦¬ê³  ì•ˆì •ì ì¸ ì• ë‹ˆë©”ì´ì…˜
```

### 5.3 ì œìŠ¤ì²˜ (Gestures)

```jsx
<motion.div
  drag                      // ë“œë˜ê·¸ ê°€ëŠ¥
  dragConstraints={{        // ë“œë˜ê·¸ ë²”ìœ„ ì œí•œ
    left: -100,
    right: 100,
    top: -100,
    bottom: 100
  }}
  dragElastic={0.2}         // ê²½ê³„ íƒ„ì„±
  onDragEnd={(e, info) => {
    console.log("ë“œë˜ê·¸ ì¢…ë£Œ:", info.offset);
  }}
/>
```

---

## ğŸ’¡ í•µì‹¬ ìš”ì•½

### Pizzaz ì§€ë„ ìœ„ì ¯
- **Mapbox GL JS**: ì¸í„°ë™í‹°ë¸Œ ì§€ë„
- **React Router**: URL ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬
- **Embla Carousel**: ëª¨ë°”ì¼ ìºëŸ¬ì…€
- **Framer Motion**: ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜

### Todo ë¦¬ìŠ¤íŠ¸ ìœ„ì ¯
- **ë¶ˆë³€ì„± íŒ¨í„´**: ìƒˆ ê°ì²´ ìƒì„±ìœ¼ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸
- **Reorder**: ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì¬ì •ë ¬
- **React DatePicker**: ë‚ ì§œ ì„ íƒ
- **Zoom Animation**: ë¦¬ìŠ¤íŠ¸ â†” ìƒì„¸ ì „í™˜

### Solar System 3D ìœ„ì ¯
- **React Three Fiber**: Three.jsë¥¼ Reactë¡œ
- **useFrame**: 60fps ì• ë‹ˆë©”ì´ì…˜ ë£¨í”„
- **OrbitControls**: ì¹´ë©”ë¼ ì¡°ì‘
- **Post-Processing**: Bloom, Depth of Field
- **Lerp**: ë¶€ë“œëŸ¬ìš´ ì¹´ë©”ë¼ ì´ë™

### ê³µí†µ íŒ¨í„´
- **ëª¨ë“ˆí™”**: ê¸°ëŠ¥ë³„ íŒŒì¼ ë¶„ë¦¬
- **ì»¤ìŠ¤í…€ í›…**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§
- **ì„±ëŠ¥ ìµœì í™”**: useMemo, useCallback, React.memo
- **ì ‘ê·¼ì„±**: ARIA ì†ì„±, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜

---

**4ë¶€ ì™„ë£Œ!** ë‹¤ìŒì€ 5ë¶€ "MCP ì„œë²„ ì•„í‚¤í…ì²˜ ë° í†µì‹  ë©”ì»¤ë‹ˆì¦˜"ì…ë‹ˆë‹¤. ì¤€ë¹„ë˜ë©´ ìš”ì²­í•´ì£¼ì„¸ìš”! ğŸš€
